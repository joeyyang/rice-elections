// Generated by CoffeeScript 1.6.2
var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

define(['jquery', 'ui/control-group'], function($, ControlGroup) {
  var TextInput;

  return TextInput = (function() {
    function TextInput(el, options) {
      this.el = el;
      if (options == null) {
        options = {};
      }
      this.change = __bind(this.change, this);
      this.setVal = __bind(this.setVal, this);
      this.getVal = __bind(this.getVal, this);
      this.required = options.required || false;
      this.controlGroup = new ControlGroup(options.controlGroup);
      console.log('Constructing text input');
    }

    TextInput.prototype.getVal = function() {
      var inputString;

      inputString = this.el.val().trim();
      if (this.required && !inputString) {
        this.controlGroup.setError('Required field.');
        return null;
      }
      this.controlGroup.removeError();
      return inputString;
    };

    TextInput.prototype.setVal = function(val) {
      this.controlGroup.removeError();
      return this.el.val(val);
    };

    TextInput.prototype.change = function(func) {
      return this.el.change(func);
    };

    return TextInput;

  })();
});
