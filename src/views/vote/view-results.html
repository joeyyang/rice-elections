{% extends "/templates/page.html" %}
{% block content %}
<!-- Load JS / CSS
================================================== -->
<link href="css/vote/view-results.css" rel="stylesheet">

<section id="main" class='container-narrow'>
 <!-- PUT CONTENT IN HERE
================================================== -->

  {% if error_msg %}
    <p class='text-error'> {{ error_msg }}</p>
  {% else %}

  <div id='server-response'></div>
  <div id='election-information' data-election-id='{{ id }}'>

  <div class='well'>
    <legend>Results for {{ name }} ({{ organization }})</legend>

    <!-- Print each election by position. -->
    {% for position in positions %}

      <h4>{{ position.name }}</h4>
      <ul class='unstyled'>
        {% for candidate in position.candidates %}
          <li>
            {% if candidate.winner %}
              <i class='icon-ok'></i>
            {% else %}
              <i class='icon-spacer'></i><!-- to enforce spacing -->
            {% endif %}
            {{ candidate.name }}
          </li>
        {% endfor %}
        {% if position.write_in %}
          <!-- TODO: print write-ins as well. -->
        {% endif %}
      </ul>

    {% endfor %}
    </div>
  {% endif %}
</section>
{% endblock %}
